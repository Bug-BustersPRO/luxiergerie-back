http {

    upstream demo-staging {
        server host.docker.internal:8080;
    }

    upstream demo-prod {
        server host.docker.internal:9080;
    }

    server {
        listen 80;
        server_name staging.docker.demo;

        location / {
            proxy_pass         http://demo-staging/demo;
            proxy_redirect     off;
        }
    }

    server {
        listen 80;
        server_name prod.docker.demo;

        location / {
            proxy_pass         http://demo-prod/demo;
            proxy_redirect     off;
        }
    }
}